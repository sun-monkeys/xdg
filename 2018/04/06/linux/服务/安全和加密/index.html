<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="安全,加密,CA证书," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.png?v=5.1.0" />






<meta name="description" content="基础理论123456789101112131415161718192021222324252627安全防护环节   物理安全: 各种设备/主机、机房环境   系统安全: 主机或设备的操作系统   应用安全: 各种网络服务、应用程序   网络安全: 对网络访问的控制、防火墙规则   数据安全: 信息的备份与恢复、加密解密   管理安全: 各种保障性的规范、流程、方法安全攻击   STRIDE Spo">
<meta name="keywords" content="安全,加密,CA证书">
<meta property="og:type" content="article">
<meta property="og:title" content="安全和加密">
<meta property="og:url" content="http://yoursite.com/2018/04/06/linux/服务/安全和加密/index.html">
<meta property="og:site_name" content="Sun-monkey">
<meta property="og:description" content="基础理论123456789101112131415161718192021222324252627安全防护环节   物理安全: 各种设备/主机、机房环境   系统安全: 主机或设备的操作系统   应用安全: 各种网络服务、应用程序   网络安全: 对网络访问的控制、防火墙规则   数据安全: 信息的备份与恢复、加密解密   管理安全: 各种保障性的规范、流程、方法安全攻击   STRIDE Spo">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-04-03T08:19:45.385Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="安全和加密">
<meta name="twitter:description" content="基础理论123456789101112131415161718192021222324252627安全防护环节   物理安全: 各种设备/主机、机房环境   系统安全: 主机或设备的操作系统   应用安全: 各种网络服务、应用程序   网络安全: 对网络访问的控制、防火墙规则   数据安全: 信息的备份与恢复、加密解密   管理安全: 各种保障性的规范、流程、方法安全攻击   STRIDE Spo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/04/06/linux/服务/安全和加密/"/>





  <title> 安全和加密 | Sun-monkey </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?822bf9a08ff5afbcfcc481a56a6ad577";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Sun-monkey</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Still see you as the whole of my life</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-linux">
          <a href="/categories/Linux" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-linux"></i> <br />
            
            Linux
          </a>
        </li>
      
        
        <li class="menu-item menu-item-python">
          <a href="/categories/Python" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-rub"></i> <br />
            
            Python
          </a>
        </li>
      
        
        <li class="menu-item menu-item-question">
          <a href="/categories/Question" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-bug"></i> <br />
            
            Question
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/06/linux/服务/安全和加密/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XDG">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sun-monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                安全和加密
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-06T00:00:00+08:00">
                2018-04-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="基础理论"><a href="#基础理论" class="headerlink" title="基础理论"></a>基础理论</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">安全防护环节</span><br><span class="line">   物理安全: 各种设备/主机、机房环境</span><br><span class="line">   系统安全: 主机或设备的操作系统</span><br><span class="line">   应用安全: 各种网络服务、应用程序</span><br><span class="line">   网络安全: 对网络访问的控制、防火墙规则</span><br><span class="line">   数据安全: 信息的备份与恢复、加密解密</span><br><span class="line">   管理安全: 各种保障性的规范、流程、方法</span><br><span class="line"></span><br><span class="line">安全攻击</span><br><span class="line">   STRIDE Spoofing 假冒</span><br><span class="line">   Tampering 篡改</span><br><span class="line">   Repudiation 否认</span><br><span class="line">   Information Disclosure 信息泄漏</span><br><span class="line">   Denial of<span class="built_in"> Service </span>拒绝服务</span><br><span class="line">   Elevation of Privilege 提升权限</span><br><span class="line"></span><br><span class="line">安全算法</span><br><span class="line">   常用安全技术</span><br><span class="line">      认证</span><br><span class="line">      授权</span><br><span class="line">      安全通信</span><br><span class="line">      审计</span><br><span class="line">   密码算法和协议</span><br><span class="line">      对称加密</span><br><span class="line">      公钥加密</span><br><span class="line">      单向加密</span><br><span class="line">      认证协议</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="对称加密和非对称加密"><a href="#对称加密和非对称加密" class="headerlink" title="对称加密和非对称加密"></a>对称加密和非对称加密</h1><figure class="highlight tp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">对称加密算法</span><br><span class="line">   对称加密: 加密和解密使用同一个密钥</span><br><span class="line">      DES: Data Encryption Standard，<span class="number">56</span>bits</span><br><span class="line">      <span class="number">3</span>DES</span><br><span class="line">      AES: Advanced (<span class="number">128</span>, <span class="number">192</span>, <span class="number">256</span>bits)</span><br><span class="line">      Blowfish，Twofish</span><br><span class="line">      IDEA，RC<span class="number">6</span>，CAST<span class="number">5</span></span><br><span class="line">   特性</span><br><span class="line">      <span class="number">1</span>、加密、解密使用同一个密钥，效率高</span><br><span class="line">      <span class="number">2</span>、将原始数据分割成固定大小的块，逐个进行加密</span><br><span class="line">   缺陷 </span><br><span class="line">      <span class="number">1</span>、密钥过多</span><br><span class="line">      <span class="number">2</span>、密钥分发</span><br><span class="line">      <span class="number">3</span>、数据来源无法确认</span><br><span class="line"></span><br><span class="line">非对称加密算法</span><br><span class="line">   公钥加密: 密钥是成对出现</span><br><span class="line">      公钥: 公开给所有人，public key</span><br><span class="line">      私钥: 自己留存，必须保证其私密性，secret key</span><br><span class="line">   特点: 用公钥加密数据，只能使用与之配对的私钥解密，反之亦然</span><br><span class="line"></span><br><span class="line">   功能</span><br><span class="line">      数字签名: 主要在于让接收方确认发送方身份</span><br><span class="line">      对称密钥交换: 发送方用对方的公钥加密一个对称密钥后发送给对方</span><br><span class="line">      数据加密: 适合加密较小数据</span><br><span class="line">      缺点: 密钥长，加密解密效率低下</span><br><span class="line">   算法</span><br><span class="line">      RSA（加密，数字签名）,DSA（数字签名）,ELGamal</span><br><span class="line"></span><br><span class="line">   基于一对公钥/密钥对</span><br><span class="line">      用密钥对中的一个加密，另一个解密</span><br><span class="line"></span><br><span class="line">   实现加密</span><br><span class="line">      接收者</span><br><span class="line">         生成公钥/密钥对: <span class="keyword">P</span>和S 公开公钥<span class="keyword">P</span>，保密密钥S</span><br><span class="line">      发送者</span><br><span class="line">         使用接收者的公钥来加密消息M，将<span class="keyword">P</span>(M)发送给接收者</span><br><span class="line">      接收者</span><br><span class="line">         使用密钥S来解密: M=S(<span class="keyword">P</span>(M))</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="单向散列"><a href="#单向散列" class="headerlink" title="单向散列"></a>单向散列</h1><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">单向散列</span><br><span class="line">   将任意数据缩小成固定大小的<span class="string">"指纹"</span></span><br><span class="line">      任意长度输入</span><br><span class="line">      固定长度输出</span><br><span class="line">      若修改数据，指纹也会改变（<span class="string">"不会产生冲突"</span>）</span><br><span class="line">      无法从指纹中重新生成数据（<span class="string">"单向"</span>）</span><br><span class="line">功能: 数据完整性</span><br><span class="line"></span><br><span class="line">常见算法</span><br><span class="line">   md5: <span class="number">128</span>bits</span><br><span class="line">   sha1: <span class="number">160</span>bits、sha224、sha256、sha384、sha512</span><br><span class="line"></span><br><span class="line">常用工具</span><br><span class="line">   md5sum | sha1sum  [ --check  ]  file</span><br><span class="line">      生成密码文件    sha1sum  xdg &gt; xdg.<span class="built_in">log</span></span><br><span class="line">      检测文件完整性  sha1sum  --check  xdg.<span class="built_in">log</span></span><br><span class="line">   注: 可以存放多个文件的密钥，只能对文件进行</span><br><span class="line"></span><br><span class="line">   openssl、gpg</span><br><span class="line">例: openssl  passwd <span class="number">-1</span></span><br><span class="line">   [root<span class="symbol">@centos7</span> xdg]<span class="meta"># openssl passwd -1   # -1 指是md5</span></span><br><span class="line">   Password: </span><br><span class="line">   Verifying - Password: </span><br><span class="line">   $1$JaZFpgxA$0Qb5ypOaRAW2wcHIYABTr1</span><br><span class="line"></span><br><span class="line">   rpm  -V  命令</span><br><span class="line">      查看包，生成的文件有没有改变</span><br><span class="line">      注: 查看相应的rpm数据库的文件</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="应用程序（RPM）"><a href="#应用程序（RPM）" class="headerlink" title="应用程序（RPM）"></a>应用程序（RPM）</h1><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">文件完整性的两种实施方式</span><br><span class="line">   被安装的文件</span><br><span class="line">      MD5单向散列</span><br><span class="line">      rpm  <span class="params">--verify</span>  package_name <span class="params">(或者 -V)</span></span><br><span class="line"></span><br><span class="line">发行的软件包文件</span><br><span class="line">   GPG公钥签名</span><br><span class="line">   rpm  <span class="params">--import</span>  <span class="string">/etc/pki/rpm-gpg/RPM-GPG-KEYredhat</span>*</span><br><span class="line">      导入密码数据库</span><br><span class="line">   rpm  <span class="params">--checksig</span>  pakage_file_name  <span class="params">(or  -K)</span></span><br><span class="line">      根据导入的密码数据库来分析pakage的完整性</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="使用gpg实现加密"><a href="#使用gpg实现加密" class="headerlink" title="使用gpg实现加密"></a>使用gpg实现加密</h1><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">在hostB主机上用公钥加密，在hostA主机上解密</span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>)在hostA主机上生成公钥/私钥对</span><br><span class="line">   gpg <span class="comment">--gen-key  # 创建密钥</span></span><br><span class="line"><span class="comment"># 需要生成大量的随机字节。这个时候您可以多做些琐事(像是敲打键盘、移动鼠标、</span></span><br><span class="line"><span class="comment">#  读写硬盘之类的)，这会让随机数字发生器有更好的机会获得足够的熵数</span></span><br><span class="line"></span><br><span class="line">   在hostA主机上查看公钥</span><br><span class="line">      gpg <span class="comment">--list-keys</span></span><br><span class="line"></span><br><span class="line">   在hostA主机上导出公钥到xdg.pubkey</span><br><span class="line">      gpg -<span class="keyword">a</span>  <span class="comment">--export -o xdg.pubkey  # 导出密钥</span></span><br><span class="line"></span><br><span class="line">   从hostA主机上复制公钥文件到需加密的B主机上</span><br><span class="line">      scp xdg.pubkey hostB:目录</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>)使用gpg工具实现公钥加密</span><br><span class="line">   在需加密数据的hostB主机上生成公钥/私钥对</span><br><span class="line">      gpg <span class="comment">--list-keys</span></span><br><span class="line">      gpg <span class="comment">--gen-key</span></span><br><span class="line"></span><br><span class="line">   在hostB主机上导入公钥</span><br><span class="line">      gpg <span class="comment">--import xdg.pubkey  # 导入密钥</span></span><br><span class="line">      gpg <span class="comment">--list-keys</span></span><br><span class="line"></span><br><span class="line">   用从hostA主机导入的公钥，加密hostB主机的文件<span class="built_in">file</span>,生成 <span class="built_in">file</span>.gpg</span><br><span class="line">      gpg -e -r xdg  <span class="built_in">file</span>  <span class="comment"># 加密文件   xdg:密钥   file:文件</span></span><br><span class="line">         注: 生成加密后的文件 <span class="comment">--&gt; file.gpg</span></span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>)使用gpg工具实现公钥加密</span><br><span class="line">   复制加密文件到hostA主机</span><br><span class="line">      scp  <span class="built_in">file</span>.gpg  hostA:</span><br><span class="line"></span><br><span class="line">   在hostA主机解密文件</span><br><span class="line">      gpg -d <span class="built_in">file</span>.gpg  <span class="comment"># 查看加密文件内容</span></span><br><span class="line">      gpg -o new_file  -d <span class="built_in">file</span>.gpg  <span class="comment"># 使用加密文件，并生成new_file文件</span></span><br><span class="line"></span><br><span class="line">(<span class="number">4</span>)删除公钥和私钥</span><br><span class="line">   gpg <span class="comment">--delete-keys  xdg</span></span><br><span class="line">   gpg <span class="comment">--delete-secret-keys  xdg</span></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="CA和证书"><a href="#CA和证书" class="headerlink" title="CA和证书"></a>CA和证书</h1><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CA</span>和证书</span><br><span class="line">   PKI: Public Key Infrastructure</span><br><span class="line">      签证机构: <span class="keyword">CA</span>（Certificate Authority）</span><br><span class="line">      注册机构: RA</span><br><span class="line">      证书吊销列表: CRL</span><br><span class="line">      证书存取库</span><br><span class="line"></span><br><span class="line">   X.509: 定义了证书的结构以及认证协议标准</span><br><span class="line">      版本号  序列号  签名算法  颁发者  有效期限</span><br><span class="line">      主体名称  主体公钥  CRL分发点  扩展信息  发行者签名</span><br><span class="line"></span><br><span class="line">证书获取</span><br><span class="line">   证书类型:</span><br><span class="line">      证书授权机构的证书</span><br><span class="line">      服务器</span><br><span class="line">      用户证书</span><br><span class="line"></span><br><span class="line">   获取证书两种方法:</span><br><span class="line">      使用证书授权机构</span><br><span class="line">         生成签名请求（csr）</span><br><span class="line">         将csr发送给<span class="keyword">CA</span></span><br><span class="line">         从<span class="keyword">CA</span>处接收签名</span><br><span class="line"></span><br><span class="line">   自签名的证书:</span><br><span class="line">      自已签发自己的公钥</span><br><span class="line"></span><br><span class="line">PKI: Public Key Infrastructure</span><br><span class="line">   <span class="keyword">CA</span></span><br><span class="line">   RA</span><br><span class="line">   CRL</span><br><span class="line">   证书存取库</span><br><span class="line"></span><br><span class="line">建立私有<span class="keyword">CA</span>:</span><br><span class="line">   openCA</span><br><span class="line">   openssl</span><br><span class="line"></span><br><span class="line">证书申请及签署步骤:</span><br><span class="line">   1、生成申请请求</span><br><span class="line">   2、RA核验</span><br><span class="line">   3、<span class="keyword">CA</span>签署</span><br><span class="line">   4、获取证书</span><br></pre></td></tr></table></figure>
<h2 id="创建CA和申请证书"><a href="#创建CA和申请证书" class="headerlink" title="创建CA和申请证书"></a>创建CA和申请证书</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">创建私有<span class="keyword">CA</span>:</span><br><span class="line">   openssl的配置文件: /etc/pki/tls/openssl.cnf  # 配置文件说明，在最后面</span><br><span class="line">   三种策略: 匹配、支持和可选</span><br><span class="line">   匹配指要求申请填写的信息跟<span class="keyword">CA</span>设置信息必须一致，支持指必须填写这项申请信息，</span><br><span class="line">     可选指可有可无</span><br><span class="line"></span><br><span class="line">1、创建所需要的文件</span><br><span class="line">   touch /etc/pki/<span class="keyword">CA</span>/index.txt  # 生成证书索引数据库文件</span><br><span class="line">   echo 01 &gt; /etc/pki/<span class="keyword">CA</span>/serial  # 指定第一个颁发证书的序列号</span><br><span class="line"></span><br><span class="line">2、<span class="keyword">CA</span>自签证书</span><br><span class="line">(1)生成私钥</span><br><span class="line">   <span class="keyword">cd</span> /etc/pki/<span class="keyword">CA</span>/</span><br><span class="line">   (umask 066; openssl genrsa -<span class="keyword">out</span> /etc/pki/<span class="keyword">CA</span>/private/cakey.pem 2048)</span><br><span class="line">      注: 把私钥再进行加密，加上 -<span class="keyword">des</span>选项，创建时，会输入密码（密钥的密码）</span><br><span class="line"></span><br><span class="line">(2)生成自签名证书</span><br><span class="line">   openssl req -new -x509 -key /etc/pki/<span class="keyword">CA</span>/private/cakey.pem -days 7300 </span><br><span class="line">     -<span class="keyword">out</span> /etc/pki/<span class="keyword">CA</span>/cacert.pem</span><br><span class="line">      -new: 生成新证书签署请求</span><br><span class="line">      -x509: 专用于<span class="keyword">CA</span>生成自签证书</span><br><span class="line">      -key: 生成请求时用到的私钥文件</span><br><span class="line">      -days <span class="keyword">n</span>: 证书的有效期限</span><br><span class="line">      -<span class="keyword">out</span> /PATH/TO/SOMECERTFILE: 证书的保存路径</span><br><span class="line"></span><br><span class="line">3、颁发证书</span><br><span class="line">(1)在需要使用证书的主机生成证书请求给web服务器生成私钥</span><br><span class="line">   (umask 066; openssl genrsa -<span class="keyword">out</span> /etc/pki/tls/private/<span class="keyword">test</span>.key 2048)</span><br><span class="line">   # 要申请的主机上创建私钥</span><br><span class="line"></span><br><span class="line">(2)生成证书申请文件</span><br><span class="line">   openssl req -new -key /etc/pki/tls/private/<span class="keyword">test</span>.key -days 365</span><br><span class="line">     -<span class="keyword">out</span> etc/pki/tls/<span class="keyword">test</span>.csr</span><br><span class="line">   # 在申请的主机上创建申请证书</span><br><span class="line">   注: 这里的申请时间可以不用写，因为在<span class="keyword">CA</span>那里会给一个具体的时间（写不写没有关系）</span><br><span class="line"></span><br><span class="line">(3)将证书请求文件传输给<span class="keyword">CA</span></span><br><span class="line">   scp  ...   ...  # 把创建申请的证书，传送给<span class="keyword">CA</span>，申请证书</span><br><span class="line"></span><br><span class="line">(5)<span class="keyword">CA</span>签署证书，并将证书颁发给请求者</span><br><span class="line">   openssl <span class="keyword">ca</span> -<span class="keyword">in</span> /tmp/<span class="keyword">test</span>.csr –<span class="keyword">out</span> /etc/pki/<span class="keyword">CA</span>/certs/<span class="keyword">test</span>.crt -days 365</span><br><span class="line">      注: 回答信息  y   y  # 确认</span><br><span class="line">   注: 默认国家，省，公司名称三项必须和<span class="keyword">CA</span>一致</span><br><span class="line"></span><br><span class="line">(6)查看证书中的信息</span><br><span class="line">   openssl x509 -<span class="keyword">in</span> /PATH/FROM/CERT_FILE -noout -text|issuer|subject|serial|dates</span><br><span class="line">   openssl <span class="keyword">ca</span> -status SERIAL  # 查看指定编号的证书状态</span><br><span class="line"></span><br><span class="line">4、吊销证书</span><br><span class="line">(1)在客户端获取要吊销的证书的serial</span><br><span class="line">   openssl x509 -<span class="keyword">in</span> /PATH/FROM/CERT_FILE -noout -serial -subject</span><br><span class="line"></span><br><span class="line">(2)在<span class="keyword">CA</span>上，根据客户提交的serial与subject信息，对比检验是否与</span><br><span class="line">  index.txt文件中的信息一致</span><br><span class="line">吊销证书: openssl <span class="keyword">ca</span> -revoke /etc/pki/<span class="keyword">CA</span>/newcerts/SERIAL.pem</span><br><span class="line">   SERIAL.pem: 是跟 index.txt 一起生成的编号</span><br><span class="line">   注: 吊销的时候，是以newcerts/00.pem的文件为准，</span><br><span class="line">     吊销之后可以查看 index.txt 文件中证书的状态信息</span><br><span class="line"></span><br><span class="line">(3)指定第一个吊销证书的编号</span><br><span class="line">   注: 第一次更新证书吊销列表前，才需要执行 echo 01 &gt; /etc/pki/<span class="keyword">CA</span>/crlnumber</span><br><span class="line">   注: 如果有吊销列表必须先创建此文件</span><br><span class="line"></span><br><span class="line">(4)更新证书吊销列表</span><br><span class="line">   openssl <span class="keyword">ca</span> -gencrl -<span class="keyword">out</span> /etc/pki/<span class="keyword">CA</span>/crl/crl.pem</span><br><span class="line">   查看crl文件:</span><br><span class="line">      openssl crl -<span class="keyword">in</span> /etc/pki/<span class="keyword">CA</span>/crl/crl.pem -noout -text</span><br><span class="line">	</span><br><span class="line">注: 特别注意</span><br><span class="line">   在创建的时候，<span class="keyword">CA</span>证书的时候，cakey.pem这个文件必须要在 /etc/pki/<span class="keyword">CA</span>/private/</span><br><span class="line">     这个目录下（私钥的文件）</span><br><span class="line"></span><br><span class="line">   私钥生成的cacert.pem（<span class="keyword">CA</span>自签的证书）要放在/etc/pki/<span class="keyword">CA</span>/这个目录下面: 这个是</span><br><span class="line">     系统规定的，必须要这样</span><br><span class="line"></span><br><span class="line">   在颁发证书的时候，会自动搜索，不然的话，无法生成证书</span><br><span class="line"></span><br><span class="line">出错信息: <span class="keyword">Error</span> opening <span class="keyword">CA</span> private key /etc/pki/<span class="keyword">CA</span>/private/cakey.pem</span><br><span class="line">  140359114762056:<span class="keyword">error</span>:02001002:system library:fopen:<span class="keyword">No</span> such <span class="keyword">file</span> or </span><br><span class="line">  directory:bss_file.c:398: fopen('/etc/pki/<span class="keyword">CA</span>/private/cakey.pem','r')</span><br><span class="line"></span><br><span class="line">注: 如果创建三层的<span class="keyword">CA</span>证书路径的话，中间的也为<span class="keyword">CA</span>中间</span><br><span class="line">   1.在第二层的时候，也要创建一个<span class="keyword">CA</span>证书（x509）</span><br><span class="line">   2.然后在第三层的申请证书提交给第二层的<span class="keyword">CA</span></span><br><span class="line">   3.给出证书</span><br><span class="line"></span><br><span class="line">注: 提前openssl的版本有时候要有要求，版本不一样的话，会导致创建<span class="keyword">CA</span>证书的时候执行失败</span><br></pre></td></tr></table></figure>
<h2 id="etc-pki-tls-openssl-cnf"><a href="#etc-pki-tls-openssl-cnf" class="headerlink" title="/etc/pki/tls/openssl.cnf"></a>/etc/pki/tls/openssl.cnf</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">####################################################################</span><br><span class="line">[ ca ]  指定CA</span><br><span class="line">default_ca      = CA_default   默认         # The default ca section</span><br><span class="line"></span><br><span class="line">####################################################################</span><br><span class="line">[ CA_default ]  明确谁是默认CA </span><br><span class="line"></span><br><span class="line">dir             = /etc/pki/CA           # Where everything is kept  # CA目录</span><br><span class="line">certs           = $dir/certs            # Where the issued certs are kept  </span><br><span class="line"># 证书文件目录，手动指定，如果不指定则不会放。</span><br><span class="line">crl_dir         = $dir/crl              # Where the issued crl are kept</span><br><span class="line"># 证书吊销列表</span><br><span class="line">database        = $dir/index.txt        # database index file.</span><br><span class="line"># 是一个文件，证书数据库，默认没有，要创建</span><br><span class="line">#unique_subject = no                    # Set to <span class="string">'no'</span> to allow creation <span class="keyword">of</span></span><br><span class="line">                                        # several ctificates <span class="keyword">with</span> same subject.</span><br><span class="line">new_certs_dir   = $dir/newcerts         # default place for new certs.  </span><br><span class="line"># 新的证书文件，自动会往这里放，跟上面指定存入的证书文件是相同，但是名字不相同，</span><br><span class="line">#  上面的文件名字是手工指定的，而这里的名字是自动给的一个编号</span><br><span class="line"></span><br><span class="line">certificate     = $dir/cacert.pem       # The CA certificate</span><br><span class="line"># CA的证书上: 如果自己是CA则自己颁发，否则由父CA颁发</span><br><span class="line">serial          = $dir/serial           # The current serial number</span><br><span class="line"># 下一个证书的证书编号  默认: <span class="number">00</span>开始（<span class="number">16</span>进制数）</span><br><span class="line">crlnumber       = $dir/crlnumber        # the current crl number</span><br><span class="line"># 下一个被吊销证书的编号</span><br><span class="line">                                        # must be commented out to leave a V1 CRL</span><br><span class="line">crl             = $dir/crl.pem          # The current CRL</span><br><span class="line">private_key     = $dir/private/cakey.pem# The private key</span><br><span class="line">RANDFILE        = $dir/private/.rand    # private random number file</span><br><span class="line"></span><br><span class="line">x509_extensions = usr_cert              # The extentions to add to the cert</span><br><span class="line"></span><br><span class="line"># Comment out the following two lines for the <span class="string">"traditional"</span></span><br><span class="line"># (and highly broken) format.</span><br><span class="line">name_opt        = ca_default            # Subject Name options</span><br><span class="line">cert_opt        = ca_default            # Certificate field options</span><br><span class="line"></span><br><span class="line"># Extension copying option: use <span class="keyword">with</span> caution.</span><br><span class="line"># copy_extensions = copy</span><br><span class="line"></span><br><span class="line"># Extensions to add to a CRL. Note: Netscape communicator chokes on V2 CRLs</span><br><span class="line"># so this is commented out by default to leave a V1 CRL.</span><br><span class="line"># crlnumber must also be commented out to leave a V1 CRL.</span><br><span class="line"># crl_extensions        = crl_ext</span><br><span class="line"></span><br><span class="line">default_days    = <span class="number">365</span>                   # how long to certify for</span><br><span class="line"># 有效时间 </span><br><span class="line">default_crl_days= <span class="number">30</span>                    # how long before next CRL</span><br><span class="line">default_md      = sha256                # use SHA<span class="number">-256</span> by default</span><br><span class="line">preserve        = no                    # keep passed DN ordering</span><br><span class="line"></span><br><span class="line"># A few difference way <span class="keyword">of</span> specifying how similar the request should look</span><br><span class="line"># For type CA, the listed attributes must be the same, and the optional</span><br><span class="line"># and supplied fields are just that :-)</span><br><span class="line">policy          = policy_match</span><br><span class="line"># 匹配策略，在创建CA的时候的信息，默认的指定是policy_match</span><br><span class="line"></span><br><span class="line"># For the CA policy</span><br><span class="line">[ policy_match ]</span><br><span class="line">countryName             = match</span><br><span class="line">stateOrProvinceName     = match</span><br><span class="line">organizationName        = match</span><br><span class="line">organizationalUnitName  = optional</span><br><span class="line">commonName              = supplied</span><br><span class="line">emailAddress            = optional</span><br><span class="line"># match:中的信息必须匹配，否则无法创建CA</span><br><span class="line"># optional:中的信息不需要匹配，也可以创建CA</span><br><span class="line"></span><br><span class="line"># For the <span class="string">'anything'</span> policy</span><br><span class="line"># At this point <span class="keyword">in</span> time, you must list all acceptable <span class="string">'object'</span></span><br><span class="line"># types.</span><br><span class="line">[ policy_anything ]</span><br><span class="line">countryName             = optional</span><br><span class="line">stateOrProvinceName     = optional</span><br><span class="line">localityName            = optional</span><br><span class="line">organizationName        = optional</span><br><span class="line">organizationalUnitName  = optional</span><br><span class="line">commonName              = supplied</span><br><span class="line">emailAddress            = optional</span><br><span class="line"></span><br><span class="line">####################################################################</span><br><span class="line">[ req ]</span><br><span class="line">default_bits            = <span class="number">2048</span></span><br><span class="line">default_md              = sha256</span><br><span class="line">default_keyfile         = privkey.pem</span><br><span class="line">distinguished_name      = req_distinguished_name</span><br><span class="line">attributes              = req_attributes</span><br><span class="line">x509_extensions = v3_ca # The extentions to add to the self signed cert</span><br><span class="line"></span><br><span class="line">.......</span><br></pre></td></tr></table></figure>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/安全/" rel="tag"># 安全</a>
          
            <a href="/tags/加密/" rel="tag"># 加密</a>
          
            <a href="/tags/CA证书/" rel="tag"># CA证书</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/05/linux/服务/centos7 修改口令和修复/" rel="next" title="CentOS 7修改口令和修改">
                <i class="fa fa-chevron-left"></i> CentOS 7修改口令和修改
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/04/07/linux/服务/ssh/openssl/" rel="prev" title="openssl">
                openssl <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="XDG" />
          <p class="site-author-name" itemprop="name">XDG</p>
           
              <p class="site-description motion-element" itemprop="description">Personal Blog</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">56</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">61</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/sun-monkeys/xdg/" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/xddggg" target="_blank" title="weibo">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#基础理论"><span class="nav-number">1.</span> <span class="nav-text">基础理论</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#对称加密和非对称加密"><span class="nav-number">2.</span> <span class="nav-text">对称加密和非对称加密</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#单向散列"><span class="nav-number">3.</span> <span class="nav-text">单向散列</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#应用程序（RPM）"><span class="nav-number">4.</span> <span class="nav-text">应用程序（RPM）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#使用gpg实现加密"><span class="nav-number">5.</span> <span class="nav-text">使用gpg实现加密</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CA和证书"><span class="nav-number">6.</span> <span class="nav-text">CA和证书</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#创建CA和申请证书"><span class="nav-number">6.1.</span> <span class="nav-text">创建CA和申请证书</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#etc-pki-tls-openssl-cnf"><span class="nav-number">6.2.</span> <span class="nav-text">/etc/pki/tls/openssl.cnf</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">XDG</span>
</div>


<div class="powered-by">
   心有猛虎
</div>

<div class="theme-info">
  细嗅蔷薇
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  





  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

</body>
</html>
